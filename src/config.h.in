#ifndef _CONFIGURATION_HEADER_GUARD_H_
#define _CONFIGURATION_HEADER_GUARD_H_

// Computed offset of rb_ary_new
#cmakedefine RB_ARY_NEW_OFFSET @RB_ARY_NEW_OFFSET@
#define RUBYLIB_START ((void *)(rb_ary_new) - RB_ARY_NEW_OFFSET)
#define RUBYLIB_ADDR(addr) (RUBYLIB_START + (size_t)(addr))

#cmakedefine RUBY_CURRENT_VM_OFFSET @RUBY_CURRENT_VM_OFFSET@
#define RUBY_CURRENT_VM_ADDR RUBYLIB_ADDR(RUBY_CURRENT_VM_OFFSET)

#cmakedefine RUBY_CURRENT_THREAD_OFFSET @RUBY_CURRENT_THREAD_OFFSET@
#define RUBY_CURRENT_THREAD_ADDR RUBYLIB_ADDR(RUBY_CURRENT_THREAD_OFFSET)

#cmakedefine RUBY_VM_EVENT_FLAGS_OFFSET @RUBY_VM_EVENT_FLAGS_OFFSET@
#define RUBY_VM_EVENT_FLAGS_ADDR RUBYLIB_ADDR(RUBY_VM_EVENT_FLAGS_OFFSET)

#cmakedefine RB_VM_CREF_OFFSET @RB_VM_CREF_OFFSET@
#define RB_VM_CREF_ADDR RUBYLIB_ADDR(RB_VM_CREF_OFFSET)

#cmakedefine ERROR_HANDLE_OFFSET @ERROR_HANDLE_OFFSET@
#define ERROR_HANDLE_ADDR RUBYLIB_ADDR(ERROR_HANDLE_OFFSET)

#cmakedefine RB_CLEAR_TRACE_FUNC_OFFSET @RB_CLEAR_TRACE_FUNC_OFFSET@
#define RB_CLEAR_TRACE_FUNC_ADDR RUBYLIB_ADDR(RB_CLEAR_TRACE_FUNC_OFFSET)

#cmakedefine RB_FIBER_START_OFFSET @RB_FIBER_START_OFFSET@
#define RB_FIBER_START_ADDR RUBYLIB_ADDR(RB_FIBER_START_OFFSET)

#cmakedefine INIT_PRELUDE_OFFSET @INIT_PRELUDE_OFFSET@
#define INIT_PRELUDE_ADDR RUBYLIB_ADDR(INIT_PRELUDE_OFFSET)

#cmakedefine RB_F_EVAL_OFFSET @RB_F_EVAL_OFFSET@
#define RB_F_EVAL_ADDR RUBYLIB_ADDR(RB_F_EVAL_OFFSET)

#cmakedefine INIT_ENC_OFFSET @INIT_ENC_OFFSET@
#define INIT_ENC_ADDR RUBYLIB_ADDR(INIT_ENC_OFFSET)

#cmakedefine INIT_EXT_OFFSET @INIT_EXT_OFFSET@
#define INIT_EXT_ADDR RUBYLIB_ADDR(INIT_EXT_OFFSET)

#cmakedefine ORIGARG_OFFSET @ORIGARG_OFFSET@
#define ORIGARG_ADDR RUBYLIB_ADDR(ORIGARG_OFFSET)

#endif // _CONFIGURATION_HEADER_GUARD_H_
