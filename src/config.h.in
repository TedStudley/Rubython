#ifndef _CONFIGURATION_HEADER_GUARD_H_
#define _CONFIGURATION_HEADER_GUARD_H_

#cmakedefine DEBUG @DEBUG@

// Computed offset of rb_ary_new
#cmakedefine RB_ARY_NEW_OFFSET @RB_ARY_NEW_OFFSET@

#cmakedefine RUBY_CURRENT_VM_OFFSET @RUBY_CURRENT_VM_OFFSET@
#cmakedefine RUBY_CURRENT_THREAD_OFFSET @RUBY_CURRENT_THREAD_OFFSET@
#cmakedefine RUBY_VM_EVENT_FLAGS_OFFSET @RUBY_VM_EVENT_FLAGS_OFFSET@
#cmakedefine RB_VM_CREF_OFFSET @RB_VM_CREF_OFFSET@
#cmakedefine ERROR_HANDLE_OFFSET @ERROR_HANDLE_OFFSET@
#cmakedefine RB_CLEAR_TRACE_FUNC_OFFSET @RB_CLEAR_TRACE_FUNC_OFFSET@
#cmakedefine RB_FIBER_START_OFFSET @RB_FIBER_START_OFFSET@
#cmakedefine INIT_PRELUDE_OFFSET @INIT_PRELUDE_OFFSET@
#cmakedefine RB_F_EVAL_OFFSET @RB_F_EVAL_OFFSET@
#cmakedefine INIT_ENC_OFFSET @INIT_ENC_OFFSET@
#cmakedefine INIT_EXT_OFFSET @INIT_EXT_OFFSET@
#cmakedefine ORIGARG_OFFSET @ORIGARG_OFFSET@
#cmakedefine RUBY_SETUP_INITIALIZED_OFFSET @RUBY_SETUP_INITIALIZED_OFFSET@
#cmakedefine FROZEN_STRINGS_OFFSET @FROZEN_STRINGS_OFFSET@
#cmakedefine GLOBAL_METHOD_CACHE_OFFSET @GLOBAL_METHOD_CACHE_OFFSET@
#cmakedefine RUBY_VM_GLOBAL_METHOD_STATE_OFFSET @RUBY_VM_GLOBAL_METHOD_STATE_OFFSET@
#cmakedefine RUBY_VM_GLOBAL_CONSTANT_STATE_OFFSET @RUBY_VM_GLOBAL_CONSTANT_STATE_OFFSET@
#cmakedefine RUBY_VM_CLASS_SERIAL_OFFSET @RUBY_VM_CLASS_SERIAL_OFFSET@
#cmakedefine GLOBAL_SYMBOLS_OFFSET @GLOBAL_SYMBOLS_OFFSET@
#cmakedefine RB_GARBAGE_COLLECT_OFFSET @RB_GARBAGE_COLLECT_OFFSET@
#cmakedefine REG_CACHE_OFFSET @REG_CACHE_OFFSET@
#cmakedefine GC_STAT_INTERNAL_DEFAULT_PROC_FOR_COMPAT_OFFSET @GC_STAT_INTERNAL_DEFAULT_PROC_FOR_COMPAT_OFFSET@
#cmakedefine OBJ_FREE_OFFSET @OBJ_FREE_OFFSET@

#define RUBYLIB_START ((void *)(rb_ary_new) - RB_ARY_NEW_OFFSET)
#define RUBYLIB_ADDR(addr) (RUBYLIB_START + (size_t)(addr))

#define RUBY_CURRENT_VM_ADDR RUBYLIB_ADDR(RUBY_CURRENT_VM_OFFSET)
#define RUBY_CURRENT_THREAD_ADDR RUBYLIB_ADDR(RUBY_CURRENT_THREAD_OFFSET)
#define RUBY_VM_EVENT_FLAGS_ADDR RUBYLIB_ADDR(RUBY_VM_EVENT_FLAGS_OFFSET)
#define RB_VM_CREF_ADDR RUBYLIB_ADDR(RB_VM_CREF_OFFSET)
#define ERROR_HANDLE_ADDR RUBYLIB_ADDR(ERROR_HANDLE_OFFSET)
#define RB_CLEAR_TRACE_FUNC_ADDR RUBYLIB_ADDR(RB_CLEAR_TRACE_FUNC_OFFSET)
#define RB_FIBER_START_ADDR RUBYLIB_ADDR(RB_FIBER_START_OFFSET)
#define INIT_PRELUDE_ADDR RUBYLIB_ADDR(INIT_PRELUDE_OFFSET)
#define RB_F_EVAL_ADDR RUBYLIB_ADDR(RB_F_EVAL_OFFSET)
#define INIT_ENC_ADDR RUBYLIB_ADDR(INIT_ENC_OFFSET)
#define INIT_EXT_ADDR RUBYLIB_ADDR(INIT_EXT_OFFSET)
#define ORIGARG_ADDR RUBYLIB_ADDR(ORIGARG_OFFSET)
#define RUBY_SETUP_INITIALIZED_ADDR RUBYLIB_ADDR(RUBY_SETUP_INITIALIZED_OFFSET)
#define FROZEN_STRINGS_ADDR RUBYLIB_ADDR(FROZEN_STRINGS_OFFSET)
#define GLOBAL_METHOD_CACHE_ADDR RUBYLIB_ADDR(GLOBAL_METHOD_CACHE_OFFSET)
#define RUBY_VM_GLOBAL_METHOD_STATE_ADDR RUBYLIB_ADDR(RUBY_VM_GLOBAL_METHOD_STATE_OFFSET)
#define RUBY_VM_CLASS_SERIAL_ADDR RUBYLIB_ADDR(RUBY_VM_CLASS_SERIAL_OFFSET)
#define RUBY_VM_GLOBAL_CONSTANT_STATE_ADDR RUBYLIB_ADDR(RUBY_VM_GLOBAL_CONSTANT_STATE_OFFSET)
#define GLOBAL_SYMBOLS_ADDR RUBYLIB_ADDR(GLOBAL_SYMBOLS_OFFSET)
#define RB_GARBAGE_COLLECT_ADDR RUBYLIB_ADDR(RB_GARBAGE_COLLECT_OFFSET)
#define REG_CACHE_ADDR RUBYLIB_ADDR(REG_CACHE_OFFSET)
#define GC_STAT_INTERNAL_DEFAULT_PROC_FOR_COMPAT_ADDR RUBYLIB_ADDR(GC_STAT_INTERNAL_DEFAULT_PROC_FOR_COMPAT_OFFSET)
#define OBJ_FREE_ADDR RUBYLIB_ADDR(OBJ_FREE_OFFSET)

#endif // _CONFIGURATION_HEADER_GUARD_H_
